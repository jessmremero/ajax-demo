
<!DOCTYPE html>
<html>
<head>
<title>ajax demo</title>
<style>
  ol,body,button{margin:0;padding:0;box-sizing:border-box;}
  ol{
    list-style:none;
  }
  #container{max-width:800px;display:flex;justify-content:center;flex-wrap:wrap;}
  #container img{width:150px;max-width:800px;}
</style>
</head>
<body>
<ol id="container">

</ol>
<button id="btn">加载</button>
</body>
<script>
var page = 1
btn.onclick = function(){

var xhr = new XMLHttpRequest()
xhr.open('get','/page' + page + '.json')
xhr.onload = function(){
page+=1

let object = JSON.parse(xhr.responseText)
if (object.hasnextpage === false){
btn.disabled = true
}
console.log(object)
let array = object.items
array.forEach(function(item,index){//变成对象//
let li = document.createElement('li')
let img = document.createElement('img')
li.appendChild(img)
img.src = item.url
container.appendChild(li)
console.log(item,index)

})//打出对象和索引//
}
xhr.send()

}
</script>
</body>
</html>
